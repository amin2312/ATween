"use strict";var ATween=function(){function u(t){this.elapsedMs=0;this.elapsedPercentage=0;this._initedTarget=false;this._attachment=null;this._convertor=null;this._data=null;this._repeatNextStartMs=0;this._repeatRefs=0;this._repeatSteps=0;this._repeatDelayMs=0;this._updateSteps=0;this._isFirstUpdate=true;this._startMs=0;this._delayMs=0;this._durationMs=1;this._repeatTimes=0;this._yoyo=false;this._isCompleted=false;this._pause=false;this._isRetained=false;this._easing=null;this._onStartCallback=null;this._isStarted=false;this._onStartCallbackFired=false;this._onUpdateCallback=null;this._onCancelCallback=null;this._onCompleteCallback=null;this._onCompleteParams=null;this._onRepeatCallback=null;this._target=t}u._add=function(t){u._instances.push(t)};u._del=function(t){var e=u._instances.indexOf(t);if(e!=-1){u._instances.splice(e,1)}};u.updateAll=function(t){if(u._instances.length==0){return}if(u.stop==true){return}var e=u._instances.concat([]);var n=e.length;for(var i=0;i<n;i++){var r=e[i];if(r._pause==false&&r.update(t)==false){u._del(r)}}};u.killAll=function(t){if(t===void 0){t=false}var e=u._instances.concat([]);var n=e.length;for(var i=0;i<n;i++){var r=e[i];r.cancel(t)}};u.killTweens=function(t,e){if(e===void 0){e=false}var n=u._instances.concat([]);var i=n.length;var r=0;for(var a=0;a<i;a++){var s=n[a];if(s._target==t||s._attachment==t){s.cancel(e);r++}}return r};u.isTweening=function(t){var e=u._instances;var n=e.length;for(var i=0;i<n;i++){var r=e[i];if(r._target==t||r._attachment==t){return true}}return false};u.checkInstalled=function(){if(!u._isInstalled){u._isInstalled=true;if(window!=null&&window.requestAnimationFrame!=null){var n=0;var i=function(t){var e=t-n;n=t;u.updateAll(e);window.requestAnimationFrame(i)};n=window.performance.now();i(n)}else{console.log('You need to manually call "ATween.updateAll" function update all tweens')}}};u.newTween=function(t,e,n){if(n===void 0){n=0}u.checkInstalled();var i=new u(t);if(e<0){e=1}i._durationMs=e;i._delayMs=n;return i};u.newOnce=function(t,e,n){if(n===void 0){n=null}u.checkInstalled();var i=new u(null);i._delayMs=t;i.onComplete(e,n);i.start();return i};u.newTimer=function(t,e,n,i,r){if(i===void 0){i=null}if(r===void 0){r=null}u.checkInstalled();var a=new u(null);a._delayMs=t;a.repeat(e);a.onRepeat(n);a.onComplete(i,r);a.start();return a};u.prototype.start=function(){if(this._isStarted){return this}this._isStarted=true;u._add(this);this.elapsedMs=0;this._isCompleted=false;this._onStartCallbackFired=false;this._repeatNextStartMs=0;this._startMs=this._delayMs;this._isFirstUpdate=true;if(this._delayMs==0&&this._target!=null){this.initTarget()}return this};u.prototype.initTarget=function(){if(this._initedTarget){return}this._srcVals={};this._revVals={};for(var t in this._dstVals){var e;if(this._target.get_tween_prop!=null){e=this._target.get_tween_prop(t)}else{e=this._target[t]}var n=this._dstVals[t];if(typeof n!="number"){throw"Unknown dest value:"+n}e*=1;this._srcVals[t]=e;this._revVals[t]=e}this._initedTarget=true};u.prototype.updateTarget=function(t,e){if(e===void 0){e=false}if(this._target==null){return}var n=t;var i=this._easing;if(i!=null){n=i(t)}for(var r in this._srcVals){var a=this._srcVals[r];if(a==null){continue}var s=a;var u=this._dstVals[r];var l;if(t>=1){l=u}else{l=s+(u-s)*n}if(this._target.set_tween_prop!=null){this._target.set_tween_prop(r,l)}else{this._target[r]=l}if(this._attachment!=null){var o;var h=this._convertor;if(h!=null){o=h(l,s,u,n,r)}else{o=Math.floor(l)}this._attachment.style.setProperty(r,o)}}if(e==false&&this._onUpdateCallback!=null){this._updateSteps++;var c=this._onUpdateCallback;c.call(this,t,this._updateSteps)}};u.prototype.update=function(t){this.elapsedMs+=t;if(this._repeatNextStartMs!=0){if(this.elapsedMs>=this._repeatNextStartMs){this._repeatNextStartMs=0;if(this._yoyo==false){this.updateTarget(0)}}}if(this.elapsedMs<this._startMs){return true}if(this._target!=null&&this._initedTarget==false){this.initTarget()}if(this._onStartCallbackFired==false){this._onStartCallbackFired=true;if(this._onStartCallback!=null){var e=this._onStartCallback;e.call(this)}}if(this._isFirstUpdate){this.elapsedMs=this._startMs;this._isFirstUpdate=false}this.elapsedPercentage=(this.elapsedMs-this._startMs)/this._durationMs;if(t>=2147483647||this.elapsedPercentage>1||this._durationMs==1){this.elapsedPercentage=1}this.updateTarget(this.elapsedPercentage);if(this.elapsedPercentage==1){if(this._repeatRefs!=0){this._repeatSteps++;this._repeatRefs--;if(this._target!=null){for(var n in this._revVals){var i=this._dstVals[n];if(this._yoyo==true){var r=this._revVals[n];this._revVals[n]=i;this._dstVals[n]=r}this._srcVals[n]=this._revVals[n]}}this._repeatNextStartMs=this.elapsedMs+this._repeatDelayMs;this._startMs=this._repeatNextStartMs+this._delayMs;this._isFirstUpdate=true;if(this._onRepeatCallback!=null){var a=this._onRepeatCallback;var s=a.call(this,this._repeatSteps);if(s===false){this._repeatRefs=0}}}if(this._repeatRefs==0){this._isCompleted=true;if(this._onCompleteCallback!=null){var u=this._onCompleteCallback;u.apply(this,this._onCompleteParams)}return false}return true}return true};u.prototype.cancel=function(t){if(t===void 0){t=false}if(this._isCompleted==true||this._isRetained==true){return}this._repeatRefs=0;if(t==true){this.update(2147483647)}u._del(this);this._isCompleted=true;if(this._onCancelCallback!=null){var e=this._onCancelCallback;e.call(this)}};u.prototype.to=function(t){this._dstVals=t;return this};u.prototype.attach=function(t,e){if(e===void 0){e=null}var n;if(t instanceof HTMLElement){n=t}else{n=document.getElementById(t)}this._attachment=n;this._convertor=e;return this};u.prototype.data=function(t){this._data=t;return this};u.prototype.repeat=function(t,e,n){if(e===void 0){e=false}if(n===void 0){n=0}this._yoyo=e;this._repeatTimes=t;this._repeatRefs=t;this._repeatDelayMs=n;return this};u.prototype.callRepeat=function(){var t=this._onRepeatCallback;var e=t.call(this,0);if(e==false){this.release().cancel()}return this};u.prototype.easing=function(t){this._easing=t;return this};u.prototype.retain=function(){this._isRetained=true;return this};u.prototype.release=function(){this._isRetained=false;return this};u.prototype.isRetained=function(){return this._isRetained};u.prototype.setPause=function(t){this._pause=t};u.prototype.getPause=function(){return this._pause};u.prototype.getRepeatTimes=function(){return this._repeatTimes};u.prototype.getTarget=function(){return this._target};u.prototype.getAttachment=function(){return this._attachment};u.prototype.getData=function(){return this._data};u.prototype.onStart=function(t){this._onStartCallback=t;return this};u.prototype.onUpdate=function(t){this._onUpdateCallback=t;return this};u.prototype.onComplete=function(t,e){if(e===void 0){e=null}this._onCompleteCallback=t;this._onCompleteParams=e;if(this._onCompleteParams!=null){this._onCompleteParams=this._onCompleteParams.concat([])}return this};u.prototype.onCancel=function(t){this._onCancelCallback=t;return this};u.prototype.onRepeat=function(t){this._onRepeatCallback=t;return this};u.prototype.toAlpha=function(t){return this.to({alpha:t})};u.prototype.toX=function(t){return this.to({x:t})};u.prototype.toY=function(t){return this.to({y:t})};u.prototype.toXY=function(t,e){return this.to({x:t,y:e})};u.stop=false;u._instances=new Array;u._isInstalled=false;return u}();var ATweenConvertor=function(){function t(){}t.css_unit=function(t,e,n,i,r){return t+"px"};t.css_gradient=function(t,e,n,i,r){var a=(e&16711680)>>16;var s=(e&65280)>>8;var u=e&255;var l=(n&16711680)>>16;var o=(n&65280)>>8;var h=n&255;var c=Math.floor(l*i+(1-i)*a);var f=Math.floor(o*i+(1-i)*s);var p=Math.floor(h*i+(1-i)*u);var _=c<<16|f<<8|p;var d=_.toString(16);for(var v=d.length;v<6;v++){d="0"+d}return"#"+d};return t}();var ATweenEasing=function(){function e(){}e.Linear=function(t){return t};e.QuadraticIn=function(t){return t*t};e.QuadraticOut=function(t){return t*(2-t)};e.QuadraticInOut=function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)};e.CubicIn=function(t){return t*t*t};e.CubicOut=function(t){return--t*t*t+1};e.CubicInOut=function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)};e.QuarticIn=function(t){return t*t*t*t};e.QuarticOut=function(t){return 1- --t*t*t*t};e.QuarticInOut=function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)};e.QuinticIn=function(t){return t*t*t*t*t};e.QuinticOut=function(t){return--t*t*t*t*t+1};e.QuinticInOut=function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)};e.SinusoidalIn=function(t){return 1-Math.cos(t*Math.PI/2)};e.SinusoidalOut=function(t){return Math.sin(t*Math.PI/2)};e.SinusoidalInOut=function(t){return.5*(1-Math.cos(Math.PI*t))};e.ExponentialIn=function(t){return t==0?0:Math.pow(1024,t-1)};e.ExponentialOut=function(t){return t==1?1:1-Math.pow(2,-10*t)};e.ExponentialInOut=function(t){if(t==0){return 0}if(t==1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)};e.CircularIn=function(t){return 1-Math.sqrt(1-t*t)};e.CircularOut=function(t){return Math.sqrt(1- --t*t)};e.CircularInOut=function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)};e.ElasticIn=function(t){if(t==0){return 0}if(t==1){return 1}return-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)};e.ElasticOut=function(t){if(t==0){return 0}if(t==1){return 1}return Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1};e.ElasticInOut=function(t){if(t==0){return 0}if(t==1){return 1}t*=2;if(t<1){return-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)}return.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1};e.BackIn=function(t){var e=1.70158;return t*t*((e+1)*t-e)};e.BackOut=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1};e.BackInOut=function(t){var e=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((e+1)*t-e))}return.5*((t-=2)*t*((e+1)*t+e)+2)};e.BounceIn=function(t){return 1-e.BounceOut(1-t)};e.BounceOut=function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}};e.BounceInOut=function(t){if(t<.5){return e.BounceIn(t*2)*.5}return e.BounceOut(t*2-1)*.5+.5};return e}();